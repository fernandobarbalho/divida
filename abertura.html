<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        path {

            stroke: white;
            stroke-width: 0.1px;
            fill: yellow;
            transition: transform steps(10) 3s;

            --delay-base: 200ms;

        }

        .delay1 {transition-delay: calc(1 * var(--delay-base));}
        .delay2 {transition-delay: calc(2 * var(--delay-base));}
        .delay3 {transition-delay: calc(3 * var(--delay-base));}
        .delay4 {transition-delay: calc(4 * var(--delay-base));}
        .delay5 {transition-delay: calc(5 * var(--delay-base));}

        @keyframes drop {

            from {

                transform: translate(50%, -20%);

            }

            to {

                transform: translate(0,0);

            }

        }
    </style>
    <title>Document</title>
</head>
<body>
    <div class="container"></div>
    <script src="./d3.min.js"></script>
    <script>
        fetch('abertura.json')
          .then( response => response.json())
          .then( data => {

            console.log(data);

            let cont = document.querySelector('.container');

            let svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
            svg.setAttribute('viewBox', '0 0 41 20');

            cont.appendChild(svg);

            let svgNS = svg.namespaceURI;

            data.forEach(d => {

                let path = document.createElementNS(svgNS, 'path');
                path.setAttribute('d', d.d);
                path.setAttribute('data-transform', d.transform);

                const rnd = Math.floor(Math.random()*10/2);
                path.classList.add('delay' + rnd);
                //path.style.transform = 'translate(' + d.transform + 'px,-100%)';
                path.style.transform = 'translate(0,-100%)';
                svg.appendChild(path);


            })

            console.log('will wait');

            setTimeout(
                function() {
                    console.log('the wait is over.')
                    document.querySelectorAll('path').forEach(path => path.style.transform = 'translate(0,0)');
                },
                1000
            )

            





            //d3.select('svg').selectAll('path').data(data).join('path').attr('d', d => d.d);

          });

    </script>
</body>
</html>